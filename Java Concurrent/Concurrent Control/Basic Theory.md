## CPU

### 缓存

Q：L1、L2、L3缓存在多核下的缓存共享

A：L1、L2每核独享，L3所有核共享

<font color=red>[ 图片下载 ]</font>

Q：CPU缓存的构成

A：CPU缓存由很多缓存行构成，而缓存行由各种标志位 + 数据块组成

Q：缓存行的最多能缓存多少数据？



Q*：CPU缓存行中的各种标志位都有什么？



Q：如何保证缓存和内存数据的一致性？

A：在考虑一致性的时候，需要考虑的问题为**<font color=red>尽量减少写回内存的频次</font>**。目前存在两种比较主流的方式：

写直达：同时更新缓存和内存。

写回：每次更新的时候只更新缓存，当缓存被替换的时候才会更新到内存。



Q：缓存在什么时候进行更新？



### 缓存一致性

<font color=red>Q：多核下的问题</font>

A：A核、B核下的都使用i变量，当在A核下修改了i

Q：写传播

A：在多核的场景下，某个核心对缓存里的数据更新后，必须传播到其他核心中

<font color=red>Q：事务串行化</font>

A：---

Q：事务串行

MESI协议

缓存更新和刷新机制

缓存的使用

### 伪共享



## 内存

### 内存寻址

### 内存屏障

